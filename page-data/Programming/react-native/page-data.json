{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/Programming/react-native/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Zeyu's Blog"}},"markdownRemark":{"id":"4aca9362-b055-5ed3-bb66-b60189539b0f","excerpt":"引子 八月初接手一个安卓项目，刚一上来就是和 tflite 模型的结合，以及 ip camera 的连接功能。这让我一个非安卓开发者着实有点左右为难。另外，这个项目以后肯定也需要 iOS 的支持，于是我就想着得找一个跨端方案。摆在面前的有两个选项：Flutter 和 React-Native…","html":"<h2>引子</h2>\n<p>八月初接手一个安卓项目，刚一上来就是和 tflite 模型的结合，以及 ip camera 的连接功能。这让我一个非安卓开发者着实有点左右为难。另外，这个项目以后肯定也需要 iOS 的支持，于是我就想着得找一个跨端方案。摆在面前的有两个选项：Flutter 和 React-Native。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/eaabdfca48ad690786b8d86811f682b5/573d3/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.77215189873418%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABa0lEQVQY01WRS2sUURSE++8KLgXBjTtdBXHjwv/g2pULldFE1OA4RGJi96Tfdk+/7+17zz0vieKgta36qIKK9K+YZVps2w1dPxnriPlfyxjbD1N7GPphPnTDYiyzRMeEiORl8/XiavftuqxbZjlaSBQQ45v8y+77xWX8Y5/b1f0HI5ED8CGsHjyEgChybGYmIWKA4LwnYmYh5khF2IOsjhaDxpLzgrfcirIAeZQ/C1BCEPBqVzEgHiWoaiTOV1l5HafxPs+y6mfVhMVMa0iyOknLpGgdiqoUhyJO0jgpsqK9jG/auUMNETunAOM4X+2LthsFAhrrkeu6SbNyNjaIijIogkpc5mWdITnRgAq3sxUJ0nx+e2o+b3l1KtxY+lC4T6U7r7wnVaJpux1P3xVJet6YbT3vGutRIv19yfjyVXLnXnXyjDyo6lnuHr4+PN70J++HHlTdmj54VN29v3mxefLRP33TPz+bGkO/ABmqwElcOusXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1\"\n        title=\"1\"\n        src=\"/static/eaabdfca48ad690786b8d86811f682b5/f058b/1.png\"\n        srcset=\"/static/eaabdfca48ad690786b8d86811f682b5/c26ae/1.png 158w,\n/static/eaabdfca48ad690786b8d86811f682b5/6bdcf/1.png 315w,\n/static/eaabdfca48ad690786b8d86811f682b5/f058b/1.png 630w,\n/static/eaabdfca48ad690786b8d86811f682b5/40601/1.png 945w,\n/static/eaabdfca48ad690786b8d86811f682b5/78612/1.png 1260w,\n/static/eaabdfca48ad690786b8d86811f682b5/573d3/1.png 1650w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>本着自己是一个 react 开发者，那就先研究一下 react-native 吧！有这些著名的 App 也在使用 react-native (下文简称 RN)：</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/962b497dbd0675d18cd2a4864dbaa422/d1882/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.72151898734178%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACzklEQVQ4y22Tu28cVRTG94+gTpW/gYoyDUUKiogiUCaRUCQaJISEaLCwaBAipCBpHKVDxpGwABeOQDZCPELixRixmd2dXe88dj2PnZ3HzsydufeH5s5gmceRRkf307nfPec73/RGI4O5ZzGbn2LZM4bDIa5tEc9nBNYEazrBNJvPxD6dYZkTiqKkCaUUF6M59xw7Zf/RhKNHYxJ/jZQCLxPcOSm5e1JirgTUglpUnKUrBsszkLW+3NAVfkj2Sx+R55q0Zx5O+OHmA/64vUPY9zS4O6x48fOcV/cKPn4q2uclvP7jAS/c36U/jTRUAcH7d5i/dI3Vzl5LKIyfKR7eJnhng/TY0eDXJzmv3PN4bcvn7mHaEdZs/nTCy5/+iukmGqqB5cMdFtffJN7/viVE5iBMlDNCFpUGCyH53a44tmviteT/opFPtY0j41RnraGUsEpLUlH/Q2glMuqi6aQ9F0VBnCQkSaLz33VlURJnGXXV3u8FQcBkZDAaDFitVhqM4xhjbDIYjgiCUGNhGDIcjhgMDMbjcathVTGdTjGMAY7jtB1WlcDLBeG6QNXtyLVS5GFI7nkI2Y4spUTKxi4FQohuGqkttE4FZVm0hAdBxbuDNdefpjwL28L02RGTW7eY3LzB6pu9TrQK1y44PlrrzhopagH7n8G9txTfbrdlva0/EzafLNl4smTPbLfnb39B/9Ilfrt8GXdzs1tDyePtgE+u9ZGi1IRZBA/eq/nwjZL7H3QaHkwzbnzpsPGdh+G15lw/NzCuXuX5lSskh4edayqyKCe3IqpuZFkrvtpSfPS24vGu6mzzr5DyvzZRHaZQqAu2uVBxjvVEVeO4Lr7vn5PJuib0fc4WC+qqXVSzCNu2mc1mRFF0bjHP83EclyRpf4DeMopw53NOZzNtlyYarzU2sCyL5XKpsSzLWCwWGmtyE3me43kerjvX9U1DfwHnhA1yOCH42AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2\"\n        title=\"2\"\n        src=\"/static/962b497dbd0675d18cd2a4864dbaa422/f058b/2.png\"\n        srcset=\"/static/962b497dbd0675d18cd2a4864dbaa422/c26ae/2.png 158w,\n/static/962b497dbd0675d18cd2a4864dbaa422/6bdcf/2.png 315w,\n/static/962b497dbd0675d18cd2a4864dbaa422/f058b/2.png 630w,\n/static/962b497dbd0675d18cd2a4864dbaa422/40601/2.png 945w,\n/static/962b497dbd0675d18cd2a4864dbaa422/78612/2.png 1260w,\n/static/962b497dbd0675d18cd2a4864dbaa422/d1882/2.png 1562w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><img src=\"/c09cf8910b7d810ed0f1a15a05715668/diagram_ios-android-views.svg\"></p>\n<p>官方网站：<a href=\"https://reactnative.dev/\">https://reactnative.dev/</a></p>\n<p>看起来还是不错的。不过在入坑之前，也有朋友提醒我说 RN 的坑很多，一份代码写完，如果单纯用 RN 自有的组件，那 iOS 和 Android 的兼容性就还好。但有些 RN 的外部库，如果很久没有在 maintain 了，就会出一些奇奇怪怪的 bug。</p>\n<h2>直接上手</h2>\n<p><code class=\"language-text\">npx react-native init &lt;project name></code></p>\n<p>自动构建一个 RN 项目。构建完成后，运行：</p>\n<p><code class=\"language-text\">npx react-native run-android</code> 在 Android Studio 上跑 emulator：</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/46b9202e3a9ca164ad9b7ba96de5dabe/be061/rn-android.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.65822784810127%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC0ElEQVQ4y2WSTW/cRByH9xPQECEUmqQplyrZtT32jr3rl/HLeO31ZtfdJVkKX4Rjgzi2n4kbJ8SNgpByQLw0iVChEUpYoeaQB9mhCRIjPZoXaR795zf/TlaWJEXBqKxIxxV6MiEZFfgqJogVbhi0DKIGnzDNSao5eX1IVtWkVd3OoR4zmtR08umcOC/xE33LUKUYhkFP9ggigfQMLLtH19rDcV1sz2dt/T3W1tZ5594a995dx3JcBqGik9SHqHGNo3L6KkdEGstPEcLC9UyyyCZXDlo5eFLQM0wc6fLZ06ccPXvOF8+e8/nREX3pYkuPzrSuSXROqnMSrVviNMMWAn8o8aIAzxsiXRdv4GGYApXl/PjX33zz80tenP3Gn6sVmc6xHEnnyaefUM/nTKZTxpMJxbgkyTJM08Q0DWzHxnEchBAt3Z5BkGR8/dMvfPntd3z14nt++PUlKtU3wmr2GF1OSEclSV4QZTlBnGKYJkLYSNfDth2EbdOXkp5pEqqEk5MTVm/e0IyLiwvit8Lmcphkt0SpJoxTTMvCNHr4QUgUKQbDAYPAx3Jsgijm9PSU31+9YrVacX5+jorTG2EjuONOaBgmnrSoxgnVfoHOI+J4iGFaBKHi7OyMq6srrq+vuby8JFQxwnHvhGHDfypsfjMaCg4XGR8t96lrzXSaIN0+wyDi+Pi4rfKP169beRApRN+lEyYpUSvK2mDV2ycbBpZpIKWDK/sIq9l3cRybR492uf/BBttbm+w82GZrc5Pd3T38KKYT6JJAFwyTHDdK8VTWItwhhuPSFX32rD5dIdu10R+wJyQb2w+5v/MhGw8e8v7WTns2UCmdcn5AOV9SPD4gny0IRxOk0njJ6Jb+v03f4Cjdzl5W4o/2icoZYTHFTUu8OKMzm89ZHC6ZzGqq6Yyi2ifRI+JM30SRNFH8nyaqpuUOlksWHz+hXizJy5J/AL7C5laowbQsAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"rn android\"\n        title=\"rn android\"\n        src=\"/static/46b9202e3a9ca164ad9b7ba96de5dabe/f058b/rn-android.png\"\n        srcset=\"/static/46b9202e3a9ca164ad9b7ba96de5dabe/c26ae/rn-android.png 158w,\n/static/46b9202e3a9ca164ad9b7ba96de5dabe/6bdcf/rn-android.png 315w,\n/static/46b9202e3a9ca164ad9b7ba96de5dabe/f058b/rn-android.png 630w,\n/static/46b9202e3a9ca164ad9b7ba96de5dabe/40601/rn-android.png 945w,\n/static/46b9202e3a9ca164ad9b7ba96de5dabe/78612/rn-android.png 1260w,\n/static/46b9202e3a9ca164ad9b7ba96de5dabe/be061/rn-android.png 3584w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><code class=\"language-text\">npx react-native run-ios</code> 在 XCode 上跑 emulator：</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/683d282b93e0c5b01ab808362f593291/be061/rn-ios.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.65822784810127%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAADcklEQVQ4y1XR20/bBRjG8d+/YeIWYAUKtS3Hng90QM/Q0vbXAxS6chiFARnbHINyiKKcBhpInDjjHOq8NsrilYkmXhoT77wRB50w6FjLJBAK+DU03njxyXP35nnyCg5PggtObx+uln6afDfwiEM0BwawOVtR6RzUam0Y6ppxe2PEu+7S3XuP64lREv1j9N0YY2BwnMmJeUZH3kHwR6YR22YR2+cIdSzQGr9P/Poy8Z4p1n/4kcUPlhkeneCjh5+xvv49d29Os7Kwxsr9xzxYWmN1aY1PFz/n0cInfLHwMUIgmCQYmiAUmSTSNkV7dJyO8B0SvcOk/z4glTsnkzvlCMjsp4mJUd4dmmRxZJblsXkeJOd5mJzj0fgca+OzCPHwHeKhW8SCQ4jebtyOIHqVkRYxxK+bz3ny3VO++vYp3/z0MxtbKWwWPe1Ndm53RJkZHGQ1OcmX0zM8eX+Wr2dmEMTmHnzuOM2OVuotTei1dZSVSnF5vPy+95JfNp/z27MUG9s7/LGzi7PeiL9BR8iqp9tj4VakiaWhPh4l7/E4OYJQZ26l/moUa2MH1sYoek09pZJSWrwtbG1t8iqbJXd6yvnZGZlslpCjgU5XAwGLGdFipMfVwG3Ry4eJXlaHBhAM+iAmUxizOYLZHEardVNaUoPH42d7+y9SWylSqRTHx8dkMlkCVjOd7noSniZuelsYE0WmW1tZ6rzGSvc1BI3Wh94QwGAU84ymIAqlFZ+/LX9wb2+Pg4MDzs/PeZXJ4G2oI+a00mGz0+d0kfT5mQoEeC8kMhf2IyirbFTVOqhWufJq1E7KZCZ8vgjP/twgmz3Itzs6OiL9Mk2jyYzbYMGjMxM2Wei3ORiy2Rm223nbYUOQyoyUvWWiTG7OkynrKCpW4fGG2N19wf7+PoeHh/9NzmBQ6dDK1TTWGmlSmwjozET0Jtp0BmJ6PcKVUjUXJFINEqmakjINlwoqaPaEeLGzTTqd5uTkhLP8UzJoanUoy6rQKNQYlSquVqiwV6lwV6vwVKsQCq5UUSC5UJ3PouJq3nhThs3h5SiX4x/g9esDTk9zpNN7KBU1SIvlVJRXUlNeiVZWiVFeiUVRSb2iEuFyoZLLRf93qVBBYbGSaKyLWGcPfjFMV3cvwVAbEokMaYkcWakcpVROTbkCdbkCrUyOXibnXxW4Vk0sqckmAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"rn ios\"\n        title=\"rn ios\"\n        src=\"/static/683d282b93e0c5b01ab808362f593291/f058b/rn-ios.png\"\n        srcset=\"/static/683d282b93e0c5b01ab808362f593291/c26ae/rn-ios.png 158w,\n/static/683d282b93e0c5b01ab808362f593291/6bdcf/rn-ios.png 315w,\n/static/683d282b93e0c5b01ab808362f593291/f058b/rn-ios.png 630w,\n/static/683d282b93e0c5b01ab808362f593291/40601/rn-ios.png 945w,\n/static/683d282b93e0c5b01ab808362f593291/78612/rn-ios.png 1260w,\n/static/683d282b93e0c5b01ab808362f593291/be061/rn-ios.png 3584w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>语法方面，基本和 react 么有任何区别，这一点，对于一个 Web 开发者，在短时间内学习 App 开发，还是很舒服的。但它的局限性在于，能用的组件很有限。开发一个 RN 组件，需要同时懂 iOS 原生开发，Andriod 原生开发以及 React，相当于要同时维护两个不同端的项目，这样的成本对于开发者来说，说实话有点高。</p>\n<p><img src=\"/dd3b2b794f4a1262f5ec901a8e0fc234/diagram_react-native-components.svg\"></p>\n<h2>基础知识</h2>\n<p>Coming Soon…</p>\n<h2>附 比较好用的 RN 库：</h2>\n<ol>\n<li>UI： <a href=\"https://reactnativeelements.com/docs/\">React Native Element</a></li>\n<li>Camera：<a href=\"https://github.com/react-native-camera/react-native-camera\">React Native Camera</a></li>\n<li>Image Picker：<a href=\"https://github.com/react-native-image-picker/react-native-image-picker\">React Native Image Picker</a></li>\n</ol>\n<h2>Reference</h2>\n<ol>\n<li><a href=\"https://www.thedroidsonroids.com/blog/flutter-vs-react-native-what-to-choose-in-2021\">Flutter vs. React Native – What to Choose in 2021?</a></li>\n</ol>","frontmatter":{"title":"React Native: react on iOS and Android","date":"August 20, 2021","description":" React Native 学习/踩坑笔记 持续更新"}},"previous":{"fields":{"slug":"/Research/music-vae/"},"frontmatter":{"title":"MusicVAE: Creating a palette for musical scores with Machine Learning"}},"next":{"fields":{"slug":"/Programming/js-closure/"},"frontmatter":{"title":"Js Closure"}}},"pageContext":{"id":"4aca9362-b055-5ed3-bb66-b60189539b0f","previousPostId":"6058e3a0-0122-5909-90f6-449aeef5441a","nextPostId":"8898aba6-5b55-5b6f-bba1-03ec2e4642c1"}},
    "staticQueryHashes": ["2841359383","3257411868"]}